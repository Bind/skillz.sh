---
import Layout from "../../layouts/Layout.astro";
import registryData from "../../data/registry.json";

const { agents } = registryData;
---

<Layout title="Agents" activePage="agents">
  <main class="flex-1 py-8 px-8">
    <div class="max-w-3xl mx-auto">
      <div class="mb-8">
        <code class="text-sm bg-zinc-100 px-4 py-2 rounded-lg font-mono text-zinc-800">
          bunx skz agent &lt;agent-name&gt;
        </code>
      </div>

      <div class="grid gap-1">
        {agents.map((agent) => (
          <a
            href={`/agents/${agent.name}`}
            class="group block py-2 hover:bg-zinc-50 -mx-3 px-3 rounded-md transition-colors"
          >
            <div class="flex items-start justify-between gap-4">
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2">
                  <h3 class="font-medium text-zinc-900 group-hover:text-zinc-700">{agent.name}</h3>
                  <span class="text-xs text-zinc-400">
                    v{agent.version}
                  </span>
                </div>
                <p class="text-sm text-zinc-500 mt-0.5 line-clamp-2">
                  {agent.description}
                </p>
                {agent.mcp && (
                  <div class="mt-1.5 flex gap-2">
                    {Object.entries(agent.mcp).map(([name]) => (
                      <span class="text-xs px-2 py-0.5 rounded bg-purple-50 text-purple-600">
                        {name}
                      </span>
                    ))}
                  </div>
                )}
              </div>
              <span class="inline-flex flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity">
                <svg
                  class="w-4 h-4 text-zinc-400"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 5l7 7-7 7"
                  />
                </svg>
              </span>
            </div>
          </a>
        ))}
      </div>
    </div>
  </main>
</Layout>
