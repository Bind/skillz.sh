---
import Layout from "../layouts/Layout.astro";
import PageTitle from "../components/PageTitle.astro";
import PageDescription from "../components/PageDescription.astro";
import PageContainer from "../components/PageContainer.astro";
import SectionTitle from "../components/SectionTitle.astro";
import SubsectionTitle from "../components/SubsectionTitle.astro";
import Paragraph from "../components/Paragraph.astro";
import { CodeBlock } from "../components/CodeBlock";

const commands = [
  {
    name: "init",
    command: "bunx @bind/skillz init",
    description: "Use the init command to initialize configuration for a new project. The init command creates the config file and sets up the required directories.",
    options: `Usage: skz init [options]

Initialize skillz in current directory

Options:
  --claude    Force Claude mode (creates .claude/skills/)`,
  },
  {
    name: "add",
    command: "bunx @bind/skillz add [skill]",
    description: "Use the add command to add skills to your project.",
    hint: "Run without arguments to open an interactive picker.",
    options: `Usage: skz add [skills...]

Add skills to your project

Arguments:
  skills    Skill name(s), domain, or glob pattern

Examples:
  skz add                      # Interactive picker
  skz add linear-issues-read   # Add specific skill
  skz add linear               # Add all skills in domain
  skz add linear-*-read        # Add skills matching pattern
  skz add linear-* github-*    # Multiple patterns`,
  },
  {
    name: "agent",
    command: "bunx @bind/skillz agent [agent]",
    description: "Use the agent command to add agents to your project.",
    hint: "Run without arguments to open an interactive picker.",
    options: `Usage: skz agent [agents...]

Add agents to your project

Arguments:
  agents    Agent name(s) to add

Examples:
  skz agent              # Interactive picker
  skz agent librarian    # Add specific agent`,
  },
  {
    name: "list",
    command: "bunx @bind/skillz list",
    description: "Use the list command to list available skills from registries.",
    options: `Usage: skz list [options]

List available skills from registries

Options:
  --agents    List available agents instead of skills`,
  },
  {
    name: "upgrade",
    command: "bunx @bind/skillz upgrade",
    description: "Use the upgrade command to check for and install CLI updates.",
    options: `Usage: skz upgrade [options]

Check for CLI upgrades

Options:
  --yes, -y    Auto-upgrade without confirmation`,
  },
];
---

<Layout title="CLI" activePage="cli">
  <PageContainer class="py-12">
    <PageTitle>CLI</PageTitle>
    <PageDescription>
      Use the skz CLI to add skills and agents to your project.
    </PageDescription>

    {commands.map((cmd, index) => (
      <>
        {index > 0 && <hr class="border-gray-200 my-8" />}
        <section class="mb-12">
          <SectionTitle>{cmd.name}</SectionTitle>
          <Paragraph class="mb-4">{cmd.description}</Paragraph>
          <CodeBlock code={cmd.command} copyMode="hover" client:load />
          {cmd.hint && <Paragraph muted small class="mt-4">{cmd.hint}</Paragraph>}
          {cmd.options && (
            <div class="mt-6">
              <SubsectionTitle>Options</SubsectionTitle>
              <div class="bg-gray-50 rounded-lg p-4 font-mono text-sm text-gray-700 overflow-x-auto">
                <pre>{cmd.options}</pre>
              </div>
            </div>
          )}
        </section>
      </>
    ))}
  </PageContainer>
</Layout>
